<div class="comments animated fadeIn">
    <!--column title-->
    <h3 class="title">
        <i class="fa fa-fw fa-lg fa-comments"></i> 评论管理 / <span class="blue">COMMENTS</span>
    </h3>
    <!--增加-->
   <section class="commentList" ng-init="">

       <section class="commentList--dropdown">
           <label class="commentList--dropdown-label">选择筛选条件: </label>
           <div class="dropdown commentList--dropdown-div">
               <button ng-init="btn_filter_name='筛选全部';Condition=0;" class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown">
                   {{btn_filter_name}}
                   <span class="caret"></span>
               </button>
               <ul class="dropdown-menu">
                   <li ng-click="Condition=0;btn_filter_name='筛选全部'"><a>筛选全部</a></li>
                   <li ng-click="Condition=1;btn_filter_name='主评论'"><a>主评论</a></li>
                   <li ng-click="Condition=2;btn_filter_name='子评论'"><a>子评论</a></li>
                   <li ng-click="Condition=5;btn_filter_name='未回复'"><a>未回复</a></li>
                   <li ng-click="Condition=6;btn_filter_name='未审核'"><a>未审核</a></li>
                   <li ng-click="Condition=3;btn_filter_name='主评论+未回复'"><a>主评论+未回复</a></li>
                   <li ng-click="Condition=4;btn_filter_name='主评论+未审核'"><a>主评论+未审核</a></li>
               </ul>
           </div>
       </section>


       <div class="comments__ask" ng-repeat="item in commentList | orderBy:'time':true | filter:ConditionFilter track by $index">
           <div class="comments__ask__title">
               <h3  ui-sref="blog.detail({id:item.article_id._id})"><span>原文: </span><span ng-bind="item.article_id.title"></span></h3>
               <div class="comments__ask__title--btns">
                   <button ng-click="changeAuthState(item._id);item.state=!item.state;"   class="btn btn-default btn-sm" ng-class="{true:'btn-success',false:'btn-warning'}[!item.state]">
                       <i class="fa" ng-class="{true:'fa-circle-o',false:'fa-ban'}[!item.state]"></i>
                   </button>
                   <button ng-if="!item.isIReplied" class="btn btn-default btn-sm" ng-click="comment(item)" data-toggle="modal" data-target="#addComm">
                       <i class="fa fa-pencil"></i>
                   </button>
                   <button class="btn btn-default btn-sm btn-danger"  ng-click="delbtn(item._id)" data-toggle="modal" data-target="#delComm">
                       <i class="fa fa-bitbucket"></i>
                   </button>
               </div>
           </div>
           <div class="comments__ask__header">
               <span class="name" ng-bind="item.name"></span>
               &ensp;·&ensp;
               <span>三天前</span>
               &ensp;·&ensp;
               <span ng-bind="item.email"></span>
               &ensp;·&ensp;
               <span ng-if="item.article_id._id.toString() === item.pre_id.toString()" class="alreadyReplied">主评论</span>
               <span ng-if="item.article_id._id.toString() !== item.pre_id.toString()" class="alreadyReplied">子评论</span>
               <span ng-if="!item.isIReplied">&ensp;·&ensp; <span class="reply">未回复</span></span>
               <span ng-if="!!item.isIReplied">&ensp;·&ensp; <span class="alreadyReplied">已回复</span></span>

               &ensp;·&ensp;
               <span ng-if="!item.state" class="no-check">审核未通过</span>
               <span ng-if="!!item.state" class="checked">审核通过</span>
           </div>
           <div class="comments__ask__content">
               <span ng-bind="item.content"></span>
           </div>

           <!--问题盒子-->
           <div class="commentBox__questionBox">
               <input class="commentBox__questionBox--input" type="text" placeholder="我要说几句" ng-model="comment_info.content">
               <button ng-disabled="!comment_info.content" class="btn commentBox__questionBox--reply" ng-click="commentThis($event,item)">
                   <i class="fa" ng-class="{true:'fa-spinner fa-spin',false:'fa-comments'}[isSubmitReply]"></i><span>  评论</span>
               </button>
           </div>
       </div>

   </section>


</div>

<!--弹出层-删除-->
<div class="modal fade" id="delComm" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                <h4 class="modal-title"><i class="fa fa-bitbucket"></i> 删除评论/DELCOMMENT</h4>
            </div>
            <div class="modal-body">
                <h3 class="text-center deleteConfirmText">确认删除此评论?</h3>
            </div>
            <div class="modal-footer">
                <span class="submitText" ng-bind="submitText"></span>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button ng-disabled="!!submitText" type="button" data-dismiss="modal" ng-click="confirmDelCommBtn()" class="btn btn-danger">
                    删除
                </button>
            </div>
        </div>
    </div>
</div>

<!--弹出层-撰写评论-->
<div class="modal fade comment--replyBox" id="addComm" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                <h4 class="modal-title"><i class="fa fa-comments"></i> 进行评论/ADDCOMMENT</h4>
            </div>
            <div class="modal-body">

                <div class="comment--replyBox--header">
                    <span class="name" ng-bind="replyBox.name"></span>
                    &ensp;·&ensp;
                    <span>三天前</span>
                    &ensp;·&ensp;
                    <span ng-bind="replyBox.email"></span>
                </div>
                <div class="comment--replyBox--content">
                    <span ng-bind="replyBox.content"></span>
                </div>
                <div class="comment--replyBox--textarea">
                    <textare class="form-control" ></textare>
                </div>

                <!--<h3 class="text-center deleteConfirmText">确认删除此评论?</h3>-->
            </div>
            <div class="modal-footer">
                <span class="submitText" ng-bind="submitText"></span>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button ng-disabled="!!submitText" type="button" data-dismiss="modal" ng-click="confirmDelCommBtn()" class="btn btn-danger">
                    评论
                </button>
            </div>
        </div>
    </div>
</div>