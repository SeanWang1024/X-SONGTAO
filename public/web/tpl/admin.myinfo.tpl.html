<div class="myInfo animated fadeIn">
    <!--我的信息title-->
    <h3 class="title">
        <i class="fa fa-fw fa-lg fa-user"></i> 我的信息 / <span class="blue">MYINFO</span>
    </h3>

    <div class="myInfoInner">
        <div class="myInfoInnerFlexBox">
            <!--我的详细信息-->
            <div class="infoDetail">
                <div class="inputGroup clearfix">
                    <label class="col-sm-12" for="name">昵称/Nickname</label>
                    <div class="col-sm-12 infoDetail__inputGroup">
                        <input type="text" ng-click="setThis(myinfo.full_name)" ng-blur="save(myinfo.full_name)" class="form-control input-sm col-sm-12 inputContent" id="name" name="name"
                               placeholder="姓名/Name" ng-model="myinfo.full_name">
                        <!--<span class="glyphicon glyphicon-ok form-control-feedback hidden" aria-hidden="true"></span>-->
                    </div>
                </div>
                <div class="inputGroup clearfix">
                    <label class="col-sm-12 " for="position">职位/Position</label>
                    <div class="col-sm-12 infoDetail__inputGroup">
                        <!--<p class="form-control-static inputContentStatic" ng-click="setInput($event)" ng-bind="myinfo.position"></p>-->
                        <input type="text" ng-click="setThis(myinfo.position)" ng-blur="save(myinfo.position)" class="form-control input-sm col-sm-12 inputContent" id="position" name="position"
                               placeholder="职位/Position" ng-model="myinfo.position">
                        <!--<span class="glyphicon glyphicon-ok form-control-feedback hidden" aria-hidden="true"></span>-->
                    </div>
                </div>
                <div class="inputGroup clearfix">
                    <label class="col-sm-12 " for="address">地址/Address</label>
                    <div class="col-sm-12 infoDetail__inputGroup">
                        <!--<p class="form-control-static inputContentStatic" ng-click="setInput($event)" ng-bind="myinfo.address"></p>-->
                        <input type="text" ng-click="setThis(myinfo.address)" ng-blur="save(myinfo.address)" class="form-control input-sm col-sm-12 inputContent" id="address" name="address"
                               placeholder="地址/Address" ng-model="myinfo.address">
                        <!--<span class="glyphicon glyphicon-ok form-control-feedback hidden" aria-hidden="true"></span>-->
                    </div>
                </div>
            </div>
            <!---->
            <!--头像img-->
            <div class="imgBox">
                <div class="imgBoxInner">
                    <!--头像上传form-->
                    <form id="imgUpload" action="" class="dropzone" method="post" enctype="multipart/form-data">
                        <div class="dz-default dz-message"></div>
                    </form>
                    <img width="100%" ng-src="{{myinfo.img_url | imgURl}}" alt="我的头像">
                </div>
            </div>
            <!--我的心情-->
            <div class="myMotto">
                <div class="inputGroup clearfix">
                    <label class="col-sm-12" for="mood">心情/Motto</label>
                    <div class="col-sm-6 infoDetail__inputGroup">
                        <input type="text" class="form-control input-sm col-sm-6 inputContent" id="mood" name="mood"
                               ng-click="setThis(myinfo.motto)" ng-blur="save(myinfo.motto)"
                               placeholder="心情/Mood" ng-model="myinfo.motto">
                    </div>
                </div>
            </div>

            <!--我的陈述-->
            <div class="personalState">
                <label>我的介绍/MyIntroduce(Markdown)</label>
                <div class="personalState__textarea">
                    <textarea
                            ng-click="setThis(myinfo.personal_state)" ng-blur="save(myinfo.personal_state)"
                            ng-model="myinfo.personal_state" placeholder="请填写我的介绍...."></textarea>
                </div>
            </div>

            <!--修改用户名密码-->
            <div class="authorizationBox">
                <div class="inputGroup clearfix">
                    <label class="col-sm-12" for="name">登录验证信息/Authorization</label>
                    <form class="inputBox" name="auths">
                        <div class="col-sm-12" ng-class="{true:'has-error',false:''}[auths.username.$error.required]">
                            <input type="text" class="form-control input-sm col-sm-12 inputContent"
                                   placeholder="用户名/Username" name="username" ng-model="myinfo.username" required>
                            <label>用户名/Username</label>
                        </div>
                        <div class="col-sm-12" ng-class="{true:'has-error',false:''}[auths.password.$error.required]">
                            <input type="password" class="form-control input-sm col-sm-12 inputContent"
                                   placeholder="旧密码/Old Password" name="password" ng-model="myinfo.password" required>
                            <label>旧密码/Old Password</label>
                        </div>
                        <div class="col-sm-12" ng-class="{true:'has-error',false:''}[auths.new_password.$error.required]">
                            <input type="password" class="form-control input-sm col-sm-12 inputContent"
                                   placeholder="新密码/New Password" name="new_password" ng-model="myinfo.new_password" required>
                            <label>新密码/New Password</label>
                        </div>
                        <div class="buttonBox" ng-init="textState = 'Submit'"  data-toggle="modal" data-target="#logoutBox">
                            <button ng-disabled="!auths.$valid || !!submitText"  class="btn btn-danger">确认</button>
                            <span class="stateText" ng-bind="textState">Submit</span>
                        </div>
                    </form>
                </div>
            </div>

            <!--最近登录记录-->
            <div class="loginRecord">
                <label>登录记录/LoginRecord</label>
                <table class="table">
                    <thead>
                    <tr>
                        <th>#</th>
                        <th>登录IP</th>
                        <th>登录时间</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="item in myinfo.login_info  | orderBy:'login_time':true| limitTo:15">
                        <td ng-bind="$index+1"></td>
                        <td ng-bind="item.login_ip"></td>
                        <td ng-bind="item.login_time | date:'yyyy/MM/dd HH:mm:ss a'">登录时间</td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>



<!--弹出层-修改密码需要重新登录-->
<div class="modal fade" id="logoutBox" tabindex="-1" role="dialog">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span>&times;</span></button>
                <h4 class="modal-title"><i class="fa fa-logout"></i> 退出确认/LOGOUT</h4>
            </div>
            <div class="modal-body">
                <h3 class="text-center deleteConfirmText">修改密码需要重新登录!</h3>
            </div>
            <div class="modal-footer">
                <span class="submitText" ng-bind="submitText"></span>
                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                <button ng-disabled="!!submitText" type="button" data-dismiss="modal" ng-click="changeAuthorizationInfo()" class="btn btn-danger">
                    确定
                </button>
            </div>
        </div>
    </div>
</div>


